import{a as d}from"./chunk-J2PFPE7J.js";import{a,c as g,m as u}from"./chunk-3CR76VZE.js";import{E as l,Y as c,ba as n,s as p}from"./chunk-QKIN7CWK.js";var m=class i{constructor(e,r){this.http=e;this.router=r}apiUrl=d.backendLoginClient;signup(e,r,t,s){let o=`${this.apiUrl}/signup`,h={login:e,password:r,email:t,adresse:s},U=new a({"Content-Type":"application/json"});return this.http.post(o,h,{headers:U})}login(e,r){let t=`${this.apiUrl}/login`,s={login:e,password:r},o=new a({"Content-Type":"application/json"});return this.http.post(t,s,{headers:o})}logout(){this.router.navigate(["/login"])}getUser(){let e=`${this.apiUrl}/getuser`;return this.http.get(e)}deleteUser(){let e=`${this.apiUrl}/delete`;return this.http.post(e,"").pipe(l(t=>{console.error("Error occurred during the delete operation:",t);let s="An error occurred while deleting the resource.";return t.error instanceof ErrorEvent?s=`Client-side error: ${t.error.message}`:s=`Server returned code: ${t.status}, error message is: ${t.message}`,p(()=>new Error(s))}))}updateUser(e){let r=`${this.apiUrl}/update`,t={nom:e.nom,email:e.email,adresse:e.adresse};return this.http.post(r,t)}static \u0275fac=function(r){return new(r||i)(n(g),n(u))};static \u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"})};export{m as a};
