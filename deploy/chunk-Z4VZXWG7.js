import{a as d}from"./chunk-PCFO4U6U.js";import{a,c as g,m as u}from"./chunk-3CR76VZE.js";import{E as l,Y as c,ba as n,s as p}from"./chunk-QKIN7CWK.js";var m=class s{constructor(e,r){this.http=e;this.router=r}apiUrl=d.backendLoginClient;signup(e,r,t,o){let i=`${this.apiUrl}/signup`,h={login:e,password:r,email:t,adresse:o},b=new a({"Content-Type":"application/json"});return this.http.post(i,h,{headers:b})}login(e,r){let t=`${this.apiUrl}/login`,o={login:e,password:r},i=new a({"Content-Type":"application/json"});return this.http.post(t,o,{headers:i})}logout(){this.router.navigate(["/login"])}getUser(){let e=`${this.apiUrl}/getuser`;return this.http.get(e)}deleteUser(){let e=`${this.apiUrl}/delete`;return this.http.post(e,"").pipe(l(t=>{console.error("Error occurred during the delete operation:",t);let o="An error occurred while deleting the resource.";return t.error instanceof ErrorEvent?o=`Client-side error: ${t.error.message}`:o=`Server returned code: ${t.status}, error message is: ${t.message}`,p(()=>new Error(o))}))}updateUser(e){let r=`${this.apiUrl}/update`,t={login:e.nom,email:e.email,adresse:e.adresse};return this.http.post(r,t)}static \u0275fac=function(r){return new(r||s)(n(g),n(u))};static \u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"})};export{m as a};
