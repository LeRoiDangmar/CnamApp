import{c as u,d as q,e as d,f,g as I,h as M}from"./chunk-ZKI2SWWW.js";import{Y as x,a as A,b as p,d as n,e as m}from"./chunk-QKIN7CWK.js";var e=class{static getNbArticles(i){return i.articles.reduce((r,c)=>r+c.quantite,0)}static getPriceArticles(i){return i.articles.reduce((r,c)=>r+c.article.prix*c.quantite,0)}static getListeArticles(i){return console.log(i.articles),i.articles}add({getState:i,patchState:r},{payload:c}){let o=i(),l=o.articles.findIndex(t=>t.article.id==c.id),s=1;if(l!==-1){let t=new f(c,o.articles[l].quantite+1);console.log(t,l);let a=o.articles.map((g,w)=>w===l?t:g);r({articles:a})}else{let t=new f(c,1);r({articles:[...o.articles,t]})}}del({getState:i,patchState:r},{payload:c}){let l=[...i().articles],s=l.findIndex(t=>t.article.nom===c.nom&&t.article.id===c.id);if(s!==-1){let t=l[s];if(t.quantite>1){let a=p(A({},t),{quantite:t.quantite-1});l[s]=a}else l.splice(s,1);r({articles:l})}}};m(e,"\u0275fac",function(r){return new(r||e)}),m(e,"\u0275prov",x({token:e,factory:e.\u0275fac})),n([u(I)],e.prototype,"add",1),n([u(M)],e.prototype,"del",1),n([d()],e,"getNbArticles",1),n([d()],e,"getPriceArticles",1),n([d()],e,"getListeArticles",1),e=n([q({name:"articles",defaults:{articles:[]}})],e);export{e as a};
