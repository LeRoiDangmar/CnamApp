import{a as s}from"./chunk-MR7PT2RQ.js";import{Z as n,ca as l,v as i}from"./chunk-YGXXMOKD.js";var c=class o{constructor(r){this.http=r}baseUrl="http://localhost:3000/api/products/";fetchFeaturedArticles(){return this.http.get(this.baseUrl+"getProducts").pipe(i(r=>r.filter(t=>t.en_avant===!0)),i(r=>r.map(t=>({id:String(t.id),nom:t.nom,prix:t.prix,note:t.note,id_categorie:t.id_categorie,en_avant:t.en_avant,images:t.images||[]}))))}fetchArticleFull(r){return this.http.get(this.baseUrl+"getProducts").pipe(i(t=>{let e=t.find(a=>a.id==r);if(e)return e;throw new Error(`Article with id ${r} not found`)}))}fetchArticleByCategorie(r){return this.http.get(this.baseUrl+"getProducts").pipe(i(t=>t.filter(e=>e.id_categorie==r)),i(t=>t.map(e=>({id:String(e.id),nom:e.nom,prix:e.prix,note:e.note,id_categorie:e.id_categorie,en_avant:e.en_avant,images:e.images||[]}))))}fetchCategories(){return this.http.get(this.baseUrl+"getCategories").pipe(i(r=>r.filter(t=>r)))}fetchOneCategorie(r){return this.http.get(this.baseUrl+"getCategories").pipe(i(t=>{let e=t.find(a=>a.id===r);if(e)return e;throw new Error(`Categorie with id ${r} not found`)}))}fetchArticleByQuery(r){return this.http.get(this.baseUrl+"getProducts").pipe(i(t=>t.filter(e=>e.nom.toLowerCase().includes(r.toLowerCase()))),i(t=>t.map(e=>({id:String(e.id),nom:e.nom,prix:e.prix,note:e.note,id_categorie:e.id_categorie,en_avant:e.en_avant,images:e.images||[]}))))}static \u0275fac=function(t){return new(t||o)(l(s))};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})};export{c as a};
